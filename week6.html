<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;"/><link rel="shortcut icon" type="image/x-icon" href="/PS70/public/images/favicon.ico"/><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"/><title>PS70 Portfolio: Week 6</title><meta name="next-head-count" content="7"/><link rel="preload" href="/PS70/_next/static/css/3c78ce5e89065624.css" as="style"/><link rel="stylesheet" href="/PS70/_next/static/css/3c78ce5e89065624.css" data-n-g=""/><link rel="preload" href="/PS70/_next/static/css/dc5f60ce80c8a045.css" as="style"/><link rel="stylesheet" href="/PS70/_next/static/css/dc5f60ce80c8a045.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/PS70/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/PS70/_next/static/chunks/webpack-5d24b24ebc407d7e.js" defer=""></script><script src="/PS70/_next/static/chunks/framework-3671d8951bf44e4e.js" defer=""></script><script src="/PS70/_next/static/chunks/main-a5da62eb29698393.js" defer=""></script><script src="/PS70/_next/static/chunks/pages/_app-aaad3cb9c0107041.js" defer=""></script><script src="/PS70/_next/static/chunks/1664-c7720be4a11717d6.js" defer=""></script><script src="/PS70/_next/static/chunks/7406-7a20c54e32fa9a09.js" defer=""></script><script src="/PS70/_next/static/chunks/9927-b8ecc6eee13e613e.js" defer=""></script><script src="/PS70/_next/static/chunks/pages/week6-f71a78bbc0cb6c03.js" defer=""></script><script src="/PS70/_next/static/ct9NOk9HQVXS44EHyUOVI/_buildManifest.js" defer=""></script><script src="/PS70/_next/static/ct9NOk9HQVXS44EHyUOVI/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div><div class="Header_header__l1qoc"><img alt="Week 6" src="https://i.imgur.com/hHpDfzL.jpg" decoding="async" data-nimg="fill" loading="lazy" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;object-fit:cover;color:transparent"/><div class="Header_title__MaSJ1"><h1>Week 6</h1></div></div><div class="Content_content__pTaRN"><style data-emotion="css mr7rk8">.css-mr7rk8{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:calc(100% + 80px);margin-left:-80px;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;margin-top:40px;}.css-mr7rk8>.MuiGrid-item{padding-left:80px;}</style><div class="MuiGrid-root MuiGrid-container css-mr7rk8"><style data-emotion="css 7tvfjx">.css-7tvfjx{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-7tvfjx{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-7tvfjx{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:1200px){.css-7tvfjx{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:1536px){.css-7tvfjx{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:0px){.css-7tvfjx{-webkit-order:1;-ms-flex-order:1;order:1;}}@media (min-width:600px){.css-7tvfjx{-webkit-order:1;-ms-flex-order:1;order:1;}}</style><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-7tvfjx"><div class="Content_section__fSmTW">Electronic Input Devices</div><video width="80%" height="auto" autoplay="" loop="" muted=""><source src="sensor_demo.mp4" type="video/mp4"/></video></div><style data-emotion="css 1ml57qp">.css-1ml57qp{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;margin-top:80px;}@media (min-width:600px){.css-1ml57qp{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-1ml57qp{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:1200px){.css-1ml57qp{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:1536px){.css-1ml57qp{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:0px){.css-1ml57qp{-webkit-order:3;-ms-flex-order:3;order:3;}}@media (min-width:600px){.css-1ml57qp{-webkit-order:2;-ms-flex-order:2;order:2;}}</style><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-1ml57qp"><div class="Content_section__fSmTW">IR Proximity Sensor</div></div><style data-emotion="css 6pmlda">.css-6pmlda{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-6pmlda{-webkit-flex-basis:58.333333%;-ms-flex-preferred-size:58.333333%;flex-basis:58.333333%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:58.333333%;}}@media (min-width:900px){.css-6pmlda{-webkit-flex-basis:58.333333%;-ms-flex-preferred-size:58.333333%;flex-basis:58.333333%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:58.333333%;}}@media (min-width:1200px){.css-6pmlda{-webkit-flex-basis:58.333333%;-ms-flex-preferred-size:58.333333%;flex-basis:58.333333%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:58.333333%;}}@media (min-width:1536px){.css-6pmlda{-webkit-flex-basis:58.333333%;-ms-flex-preferred-size:58.333333%;flex-basis:58.333333%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:58.333333%;}}@media (min-width:0px){.css-6pmlda{-webkit-order:3;-ms-flex-order:3;order:3;}}@media (min-width:600px){.css-6pmlda{-webkit-order:2;-ms-flex-order:2;order:2;}}</style><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-7 css-6pmlda"><div class="Content_text__dw89L"><p>This week, we were tasked with building a capacitve sensor as well as another sensor of our choosing. Ultimately, I decided to use an infrared LED and photodiode to create a proximity sensor. As can be seen in the video above, this sensor ultimately was able to detect the distance it was located away from an object and instruct an LED to turn on when the object was close.</p><p>To wire the sensor together, I built a circuit <span>(</span>pictured at right<span>)</span> using two resistors, an infrared LED to emit IR light, and a photodiode to detect this light. If you are interested, you can download the code driving these sensors and the LED below. In particular, note how an object-oriented class structure was adoopted so as to minimize usage of the &quot;delay&quot; function and to abstract away any unnecessary details from the body of the main code.</p><a href="/PS70/files/ir_code.ino"><button class="Content_buttonlarge__iwvZl">Download Proximity Sensing Code</button></a><p>Ultimately, the results of creating this circuit were quite promising! As can be seen in the graph, as actual distance increased, readings from the sensor did as well. In particular, as can be seen in the line of best fit, <strong>for every millimeter away from the sensor, the readings from the sensor increased by 0.728.</strong></p><p>While there are definitely some inaccuracies in these results due to fluctuations in sensor readings, overall I am very pleased with how this sensor turned out!</p></div></div><style data-emotion="css e1m03n">.css-e1m03n{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-e1m03n{-webkit-flex-basis:41.666667%;-ms-flex-preferred-size:41.666667%;flex-basis:41.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:41.666667%;}}@media (min-width:900px){.css-e1m03n{-webkit-flex-basis:41.666667%;-ms-flex-preferred-size:41.666667%;flex-basis:41.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:41.666667%;}}@media (min-width:1200px){.css-e1m03n{-webkit-flex-basis:41.666667%;-ms-flex-preferred-size:41.666667%;flex-basis:41.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:41.666667%;}}@media (min-width:1536px){.css-e1m03n{-webkit-flex-basis:41.666667%;-ms-flex-preferred-size:41.666667%;flex-basis:41.666667%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:41.666667%;}}@media (min-width:0px){.css-e1m03n{-webkit-order:2;-ms-flex-order:2;order:2;}}@media (min-width:600px){.css-e1m03n{-webkit-order:3;-ms-flex-order:3;order:3;}}</style><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-5 css-e1m03n"><div class="Content_rectangle__enz6o"><img alt="Circuit Diagram" src="/PS70/_next/static/media/diode.2e16888d.jpg" decoding="async" data-nimg="fill" loading="lazy" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;object-fit:cover;color:transparent"/></div><div class="Content_square__yT2Rj"><img alt="Diode Chart" src="/PS70/_next/static/media/photodiode_chart.3114fb01.png" decoding="async" data-nimg="fill" loading="lazy" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;object-fit:cover;color:transparent"/></div></div><style data-emotion="css sapbr1">.css-sapbr1{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-sapbr1{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-sapbr1{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:1200px){.css-sapbr1{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:1536px){.css-sapbr1{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:0px){.css-sapbr1{-webkit-order:4;-ms-flex-order:4;order:4;}}@media (min-width:600px){.css-sapbr1{-webkit-order:4;-ms-flex-order:4;order:4;}}</style><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-sapbr1"><div class="Content_section__fSmTW">Capaciative Sensor</div></div><style data-emotion="css 1ywxu4r">.css-1ywxu4r{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-1ywxu4r{-webkit-flex-basis:50%;-ms-flex-preferred-size:50%;flex-basis:50%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:50%;}}@media (min-width:900px){.css-1ywxu4r{-webkit-flex-basis:50%;-ms-flex-preferred-size:50%;flex-basis:50%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:50%;}}@media (min-width:1200px){.css-1ywxu4r{-webkit-flex-basis:50%;-ms-flex-preferred-size:50%;flex-basis:50%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:50%;}}@media (min-width:1536px){.css-1ywxu4r{-webkit-flex-basis:50%;-ms-flex-preferred-size:50%;flex-basis:50%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:50%;}}@media (min-width:0px){.css-1ywxu4r{-webkit-order:6;-ms-flex-order:6;order:6;}}@media (min-width:600px){.css-1ywxu4r{-webkit-order:6;-ms-flex-order:6;order:6;}}</style><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-6 css-1ywxu4r"><div class="Content_text__dw89L"><p>In addition to the photodiode sensor, I also built a capacitive sensor inspired by our work in class and in lab this week.</p><p>Although it took me a while to conceptually understand some of the physics behind capacitance, actually building the sensor was relatively straightforward. As can be seen in the photo, I simply connected a piece of copper to a circuit with a resistor, a pin to write to, and a pin to read from.</p><p>After building the circuit, it was time to test! For this experiment, I decided that I wanted to see how well the capacitive sensor could measure the amount of water in my water bottle. As such, I taped the piece of copper to the outside of my bottle and began to take measurements after drinking a certain percentage of the water.</p><p>The results of this test can be seen in the graph at left. While these results were certainly noisier than my results from the IR sensor, there was still a clear downwards trend in the readings from the capacitive sensor relative to the amount of water that had been drunk from the bottle. </p><p><strong>In particular, for every percentage of the water in the cup that was drunk, the readings from the capacitor decreased by approximately 30.4.</strong></p><p>However, due to the nature of the code driving this project <span>(</span>which was heavily inspired by the code on the <a href="https://nathanmelenbrink.github.io/ps70/06_input/index.html" target="_blank" class="Content_link__LtZ2C">class website</a><span>)</span>, these results were not particularly reliable nor can they be converted into the official unit of measurement for capacitance <span>(</span>farads<span>)</span>. Yet, there is still a clear correlation between water in the cup and measurements from the capacitance sensor, which I think is pretty cool in and of itself!</p></div><a href="/PS70/files/capacitance_code.ino"><button class="Content_buttonlarge__iwvZl">Download Capacitor Code</button></a></div><style data-emotion="css 47g3xr">.css-47g3xr{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-47g3xr{-webkit-flex-basis:50%;-ms-flex-preferred-size:50%;flex-basis:50%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:50%;}}@media (min-width:900px){.css-47g3xr{-webkit-flex-basis:50%;-ms-flex-preferred-size:50%;flex-basis:50%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:50%;}}@media (min-width:1200px){.css-47g3xr{-webkit-flex-basis:50%;-ms-flex-preferred-size:50%;flex-basis:50%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:50%;}}@media (min-width:1536px){.css-47g3xr{-webkit-flex-basis:50%;-ms-flex-preferred-size:50%;flex-basis:50%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:50%;}}@media (min-width:0px){.css-47g3xr{-webkit-order:5;-ms-flex-order:5;order:5;}}@media (min-width:600px){.css-47g3xr{-webkit-order:5;-ms-flex-order:5;order:5;}}</style><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-6 css-47g3xr"><div class="Content_rectanglemargins__RNF6q"><img alt="Capacitance Circuit" src="/PS70/_next/static/media/capacitance.d5f30c63.jpg" decoding="async" data-nimg="fill" loading="lazy" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;object-fit:contain;color:transparent"/></div><div class="Content_rectangle__enz6o"><img alt="Capacitance Sensor on Bottle" src="/PS70/_next/static/media/bottle_sensor.8335a146.jpg" decoding="async" data-nimg="fill" loading="lazy" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;object-fit:contain;color:transparent"/></div><div class="Content_rectanglemargins__RNF6q"><img alt="Capacitance Results" src="/PS70/_next/static/media/capacitance_chart.0080ebbd.png" decoding="async" data-nimg="fill" loading="lazy" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;object-fit:contain;color:transparent"/></div></div><style data-emotion="css 8jddk2">.css-8jddk2{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-8jddk2{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-8jddk2{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:1200px){.css-8jddk2{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:1536px){.css-8jddk2{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:0px){.css-8jddk2{-webkit-order:10;-ms-flex-order:10;order:10;}}@media (min-width:600px){.css-8jddk2{-webkit-order:10;-ms-flex-order:10;order:10;}}</style><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 css-8jddk2"><div class="Content_text__dw89L"><h2>Coding</h2><p>For both the capacitive sensor and the IR sensor, I employed a class-based code structure as opposed to one which employed lots of delays and code in the main body of the program. Ultimately, I think this helped me to keep the code much neater and more maintainable going forward!</p><p>In particular, for the capacitive sensor, I was receiving results which fluctuated wildly within a certain range. To remedy this, I decided to instead average every 100 results before printing them out—a process which greatly decreased the number of fluctuations between data points. For more information on this process, feel free to check out the full code for both sensors below!</p></div><div class="Content_code__iv5f1"><div class="sc-gswNZR inUGyR"><span style="font-size:inherit;font-family:inherit;background:white;color:black;border-radius:3px;display:inline;line-height:1.4285714285714286;overflow-x:auto;white-space:pre-wrap;padding:2px 4px"><code>class Capacitor {
      int readPin;
      int writePin;
      unsigned long previousMicros;
    
    public:
      Capacitor(int pinA, int pinB) {
        readPin = pinA;
        writePin = pinB;
        previousMicros = 0;
    
        pinMode(readPin, INPUT);
        pinMode(writePin, OUTPUT);
      }
    
      long getReading() {
        previousMicros = micros();
    
        for (int count = 0; count &lt; 1000; count++) {
          digitalWrite(writePin, HIGH);
          while(!digitalRead(readPin)) {}
          digitalWrite(writePin, LOW);
          while(digitalRead(readPin)) {}
        }
    
        return (micros() - previousMicros);
      }
    };
    
    Capacitor sensor(5,7);
    
    void setup() {
      Serial.begin(9600);
    }
    
    void loop() {
      long readings[100];
      for (int i = 0; i &lt; 100; i++) {
        readings[i] = sensor.getReading();
        delay(10);
      }
    
      long sum = 0;
    
      for (int j = 0; j &lt; 100; j++) {
        sum += readings[j];
      }
    
      Serial.println(sum / 100);
    }</code></span><button type="button" class="sc-bcXHqe WtpSJ"><svg class="icon" viewBox="0 0 384 512" width="16pt" height="16pt" fill="black"><path d="M280 240H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm0 96H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zM112 232c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zM336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 48c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm144 408c0 4.4-3.6 8-8 8H56c-4.4 0-8-3.6-8-8V120c0-4.4 3.6-8 8-8h40v32c0 8.8 7.2 16 16 16h160c8.8 0 16-7.2 16-16v-32h40c4.4 0 8 3.6 8 8v336z"></path></svg></button></div><div class="sc-gswNZR inUGyR"><span style="font-size:inherit;font-family:inherit;background:white;color:black;border-radius:3px;display:inline;line-height:1.4285714285714286;overflow-x:auto;white-space:pre-wrap;padding:2px 4px"><code>class Photodiode {
      int photoPin;
      int readPin;
      int value;
      unsigned long previousMillis;
    
    public:
      Photodiode(int pinA, int pinB) {
        photoPin = pinA;
        readPin = pinB;
        previousMillis = 0;
        value = 0;
    
        pinMode(photoPin, OUTPUT);
        digitalWrite(photoPin, HIGH);
      }
    
      void update() {
    
        if(previousMillis - millis() &gt; 20) {
          value = analogRead(readPin);
          previousMillis = millis();
        }
    
      }
    
      int getValue() {
        return value;
      }
    };
    
    Photodiode sensor(2,0);                
    int led=13;                 
    int limit = 1000;            
    
    void setup()    
     {  
      pinMode(led,OUTPUT);      
      digitalWrite(led,LOW);    
      Serial.begin(9600);         
     }  
    
    void loop()  
     {
      sensor.update();
      int value = sensor.getValue();
      Serial.println(value);
       
      if(value &lt;= limit)              
      {  
       digitalWrite(led, HIGH);     
      }  
      else if(value &gt; limit)         
      {  
       digitalWrite(led,LOW);      
      }  
     }</code></span><button type="button" class="sc-bcXHqe WtpSJ"><svg class="icon" viewBox="0 0 384 512" width="16pt" height="16pt" fill="black"><path d="M280 240H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm0 96H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zM112 232c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zM336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 48c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm144 408c0 4.4-3.6 8-8 8H56c-4.4 0-8-3.6-8-8V120c0-4.4 3.6-8 8-8h40v32c0 8.8 7.2 16 16 16h160c8.8 0 16-7.2 16-16v-32h40c4.4 0 8 3.6 8 8v336z"></path></svg></button></div></div><a href="/PS70"><button class="Content_button__ikLVm">Return Home</button></a></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/week6","query":{},"buildId":"ct9NOk9HQVXS44EHyUOVI","assetPrefix":"/PS70","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>